/*! Sortable 1.4.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["angular","./Sortable"],a):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?(require("angular"),a(angular,require("./Sortable")),module.exports="ng-sortable"):window.angular&&window.Sortable&&a(angular,Sortable)}(function(a,b){"use strict";var c="Sortable:ng-sortable";a.module("ng-sortable",[]).constant("ngSortableVersion","0.4.0").constant("ngSortableConfig",{}).directive("ngSortable",["$parse","ngSortableConfig",function(d,e){function f(a){return a.getAttribute("ng-repeat")||a.getAttribute("data-ng-repeat")||a.getAttribute("x-ng-repeat")}var g,h;return{restrict:"AC",scope:{ngSortable:"=?"},priority:1001,compile:function(i,j){var k=[].filter.call(i[0].childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE&&f(a)})[0];if(k){var l=f(k).match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(l){var m=l[2];return function(f,i){function j(a,b){var c="on"+a.type.charAt(0).toUpperCase()+a.type.substr(1),d=q();s[c]&&s[c]({model:b||d[a.newIndex],models:d,oldIndex:a.oldIndex,newIndex:a.newIndex,originalEvent:a})}function k(d){var e=q();if(e){var i=d.oldIndex,j=d.newIndex;if(r!==d.from){var k=d.from[c]();g=k[i],d.clone?(g=a.copy(g),k.splice(b.utils.index(d.clone,o.options.draggable),0,k.splice(i,1)[0]),d.from.removeChild(d.clone)):k.splice(i,1),e.splice(j,0,g),d.from.insertBefore(d.item,h)}else e.splice(j,0,e.splice(i,1)[0]),h.nodeType===Node.COMMENT_NODE&&d.from.insertBefore(h,d.item.nextSibling);f.$apply()}}function l(){n(),a.forEach(t,function(a){a()}),o.destroy(),r[c]=null,r=null,t=null,o=null,h=null}var n,o,p=d(m),q=function(){return p(f.$parent)||[]},r=i[0],s=a.extend(f.ngSortable||{},e),t=[];r[c]=q,o=b.create(r,Object.keys(s).reduce(function(a,b){return a[b]=a[b]||s[b],a},{onStart:function(a){h=a.from===a.item.parentNode?a.item.nextSibling:a.clone.nextSibling,j(a),f.$apply()},onEnd:function(a){j(a,g),f.$apply()},onAdd:function(a){k(a),j(a,g),f.$apply()},onUpdate:function(a){k(a),j(a)},onRemove:function(a){j(a,g)},onSort:function(a){j(a)}})),a.forEach(["sort","disabled","draggable","handle","animation","group","ghostClass","filter","onStart","onEnd","onAdd","onUpdate","onRemove","onSort","onMove","onClone","setData"],function(a){t.push(f.$watch("ngSortable."+a,function(b){void 0!==b&&(s[a]=b,/^on[A-Z]/.test(a)||o.option(a,b))}))}),n=f.$on("$destroy",l)}}}}}}])});